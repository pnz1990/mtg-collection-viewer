<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Game Tracker - MTG Collection Viewer</title>
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mana-font@latest/css/mana.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/keyrune@latest/css/keyrune.css">
  <link rel="stylesheet" href="css/game-tracker.css">
</head>
<body>
  <!-- Setup Screen -->
  <div id="setup-screen" class="setup-screen">
    <div class="setup-card">
      <h1>Game Setup</h1>
      
      <div class="setup-section">
        <label>Players</label>
        <div class="player-select" id="player-count">
          <button data-value="2" class="selected">
            <svg viewBox="0 0 100 100"><circle cx="50" cy="20" r="12"/><circle cx="50" cy="80" r="12"/></svg>
            <span>2</span>
          </button>
          <button data-value="3">
            <svg viewBox="0 0 100 100"><circle cx="50" cy="15" r="10"/><circle cx="20" cy="75" r="10"/><circle cx="80" cy="75" r="10"/></svg>
            <span>3</span>
          </button>
          <button data-value="4">
            <svg viewBox="0 0 100 100"><circle cx="20" cy="20" r="10"/><circle cx="80" cy="20" r="10"/><circle cx="20" cy="80" r="10"/><circle cx="80" cy="80" r="10"/></svg>
            <span>4</span>
          </button>
        </div>
      </div>

      <div class="setup-section">
        <label>Starting Life</label>
        <div class="life-select" id="starting-life">
          <button data-value="20">20</button>
          <button data-value="40" class="selected">40</button>
          <button data-value="30">30</button>
        </div>
      </div>

      <button id="start-game" class="start-btn">Start Game</button>
    </div>
  </div>

  <!-- Game Screen -->
  <div id="game-screen" class="game-screen hidden">
    <div id="players-container" class="players-container"></div>
    
    <div class="tools-bar">
      <button id="btn-dice" class="tool-btn" title="Roll Dice">
        <svg class="dice-icon" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="3" fill="none" stroke="currentColor" stroke-width="2"/><circle cx="8" cy="8" r="1.5" fill="currentColor"/><circle cx="12" cy="12" r="1.5" fill="currentColor"/><circle cx="16" cy="16" r="1.5" fill="currentColor"/></svg>
      </button>
      <button id="btn-coin" class="tool-btn" title="Flip Coin">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/><text x="12" y="16" text-anchor="middle" font-size="10" fill="currentColor">$</text></svg>
      </button>
      <button id="btn-reset" class="tool-btn" title="Reset">
        <svg viewBox="0 0 24 24"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" fill="currentColor"/></svg>
      </button>
      <button id="btn-menu" class="tool-btn" title="Menu">
        <svg viewBox="0 0 24 24"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
  </div>

  <!-- Commander Search Modal -->
  <div id="search-modal" class="modal hidden">
    <div class="modal-content search-content">
      <div class="modal-header">
        <h2>Set Commander</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="partner-toggle">
        <label><input type="checkbox" id="partner-check"> Partners (2 commanders)</label>
      </div>
      <div id="commander-slots" class="commander-slots">
        <div class="commander-slot active" data-slot="0">
          <span class="slot-label">Commander 1</span>
          <span class="slot-name" id="slot-name-0">Not set</span>
        </div>
        <div class="commander-slot hidden" data-slot="1">
          <span class="slot-label">Commander 2</span>
          <span class="slot-name" id="slot-name-1">Not set</span>
        </div>
      </div>
      <div class="search-box">
        <input type="text" id="search-input" placeholder="Search commanders..." autocomplete="off">
      </div>
      <div id="search-results" class="search-results"></div>
      <button id="clear-commander" class="action-btn secondary">Clear Commander(s)</button>
    </div>
  </div>

  <!-- Dice Modal -->
  <div id="dice-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Roll Dice</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="dice-type-select">
        <button class="dice-type-btn selected" data-sides="6">
          <svg class="dice-icon-svg" viewBox="0 0 50 50">
            <rect x="5" y="5" width="40" height="40" rx="4" fill="none" stroke="currentColor" stroke-width="2"/>
            <circle cx="16" cy="16" r="3" fill="currentColor"/><circle cx="34" cy="16" r="3" fill="currentColor"/>
            <circle cx="16" cy="34" r="3" fill="currentColor"/><circle cx="34" cy="34" r="3" fill="currentColor"/>
            <circle cx="25" cy="25" r="3" fill="currentColor"/>
          </svg>
          <span>D6</span>
        </button>
        <button class="dice-type-btn" data-sides="12">
          <svg class="dice-icon-svg" viewBox="0 0 50 50">
            <polygon points="25,2 47,15 47,35 25,48 3,35 3,15" fill="none" stroke="currentColor" stroke-width="2"/>
            <line x1="25" y1="2" x2="25" y2="48" stroke="currentColor" stroke-width="1.5"/>
            <line x1="3" y1="15" x2="47" y2="35" stroke="currentColor" stroke-width="1.5"/>
            <line x1="47" y1="15" x2="3" y2="35" stroke="currentColor" stroke-width="1.5"/>
          </svg>
          <span>D12</span>
        </button>
        <button class="dice-type-btn" data-sides="20">
          <svg class="dice-icon-svg" viewBox="0 0 50 50">
            <polygon points="25,2 45,18 38,45 12,45 5,18" fill="none" stroke="currentColor" stroke-width="2"/>
            <line x1="25" y1="2" x2="12" y2="45" stroke="currentColor" stroke-width="1.5"/>
            <line x1="25" y1="2" x2="38" y2="45" stroke="currentColor" stroke-width="1.5"/>
            <line x1="5" y1="18" x2="38" y2="45" stroke="currentColor" stroke-width="1.5"/>
            <line x1="45" y1="18" x2="12" y2="45" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="25" cy="28" r="8" fill="none" stroke="currentColor" stroke-width="1.5"/>
          </svg>
          <span>D20</span>
        </button>
      </div>
      <div class="dice-count-select">
        <button id="dice-minus" class="count-btn">âˆ’</button>
        <span id="dice-num">1</span>
        <button id="dice-plus" class="count-btn">+</button>
      </div>
      <div id="dice-stage" class="dice-stage"></div>
      <button id="roll-dice" class="action-btn">Roll</button>
    </div>
  </div>

  <!-- Coin Modal -->
  <div id="coin-modal" class="modal hidden">
    <div class="modal-content coin-content">
      <div class="modal-header">
        <h2>Flip Coin</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div class="coin-stage">
        <div id="coin" class="coin-3d">
          <div class="coin-face heads"></div>
          <div class="coin-face tails"></div>
        </div>
      </div>
      <div id="coin-result" class="coin-result"></div>
      <button id="flip-coin" class="action-btn">Flip</button>
    </div>
  </div>

  <!-- Commander Damage Modal -->
  <div id="cmdr-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Commander Damage</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div id="cmdr-grid" class="cmdr-grid"></div>
    </div>
  </div>

  <!-- Counters Modal -->
  <div id="counters-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="counters-title">Counters</h2>
        <button class="close-btn">&times;</button>
      </div>
      <div id="counters-grid" class="counters-grid"></div>
    </div>
  </div>


  <script src="js/game-tracker.js"></script>
</body>
</html>
